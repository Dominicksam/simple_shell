#include "main.h"

/**
 * main - Simple shell program
 *
 * Description: Reads user input, and handles built-in commands.
 *
 * Return: Always 0.
 */
int main(void)
{
	char *input = NULL;
	size_t size = 0;

	while (1)
	{
		write_str("$ ");
		if (getline(&input, &size, stdin) == -1)
		{
			free(input);
			break;
		}
		char *input_dup = _strdup(input);
		char *tok = strtok(input_dup, " \t\r\n");

		if (_strcmp(tok, "env") == 0)
		{
			env();
			free(input_dup);
			continue;
		}
		if (_strcmp(tok, "exit") == 0)
		{
			free(input);
			free(input_dup);
			break;
		}
		if (*tok == '#' || no_input(input_dup) == 0)
		{
			free(input_dup);
			continue;
		}
		if (handle_cd(input, input_dup) == 0)
		{
			free(input_dup);
			continue;
		}

<<<<<<< HEAD:main.c
		free(input_dup);
=======
	input_dup2 = _strdup(input);
	input_dup3 = _strdup(input);
	
	tok = strtok(input_dup2, " \t\r\n");
	if (_strcmp(tok, "exit") == 0) 
	{
		free(input);
		free(input_dup3);
		free(input_dup2);
		_exit_status(input_dup3);
	}
	if (*tok == '#' || no_input(input_dup2) == 0)
	{
		free(input_dup3);
		continue;
	}
	
	input_dup = _strdup(input);
<<<<<<< HEAD:mainc
	if(handle_cd(input_dup3, input_dup) == 0)
=======
	
	if (handle_cd(input_dup3, input_dup) == 0) 
>>>>>>> cfbbd8a50210e93b8ba9993291c91a87fbdb3c40:main.c
	{
		free(input_dup);
		continue;
	}
	if (isterminal != 0)
	break;
<<<<<<< HEAD:mainc
=======
	continue;
>>>>>>> cfbbd8a50210e93b8ba9993291c91a87fbdb3c40:main.c
>>>>>>> 02d65c31653ca334a9f5438865c31c146799af0d:mainc
	}
	return (0);
}
